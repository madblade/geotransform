(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){var r=n(5),i=n(4);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1},s=r(i,a),o=i.locals?i.locals:{};i.locals||t.hot.accept(4,(function(){var e=n(4);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),s(e)})),t.hot.dispose((function(){s()})),t.exports=o},12:function(t,e,n){"use strict";n.r(e);var r=n.p+"71ca13a047042bde743d9ce2a97942ef.png",i=(n(10),n(11),n(0)),a=function(t){function e(t){for(var e=0,n=1779033703^t.length;e<t.length;e++)n=(n=Math.imul(n^t.charCodeAt(e),3432918353))<<13|n>>>19;return function(){return n=Math.imul(n^n>>>16,2246822507),n=Math.imul(n^n>>>13,3266489909),(n^=n>>>16)>>>0}}function n(t,e,n,r){return function(){var i=(t>>>=0)+(e>>>=0)|0;return t=e^e>>>9,e=(n>>>=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+(i=i+(r=(r>>>=0)+1|0)|0)|0,(i>>>0)/4294967296}}var r=e("".concat(t,"h2g2")),i=e("".concat(t,"DouglasAdams")),a=e("".concat(t,"42")),s=n(r(),r(),r(),r()),o=n(i(),i(),i(),i()),c=n(a(),a(),a(),a());this.uniform=function(){return s()},this.normal=function(){for(var t=0,e=0;0===t;)t=o();for(;0===e;)e=c();var n=Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e);return(n=n/10+.5)>1||n<0?this.normal():2*n-1},this.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)}},s=function(t){var e=["d       s       a       m_i","2       1       0       1","3       2       1       1 3","4       3       1       1 3 1","5       3       2       1 1 1","6       4       1       1 1 3 3","7       4       4       1 3 5 13","8       5       2       1 1 5 5 17","9       5       4       1 1 5 5 5","10      5       7       1 1 7 11 1"];if(t<1||t>e.length)throw new Error("OOB");var n,r=[],i=[],s=[],o=[],c=e,h=0;for(this.dimension=t,this.count=h,this.next=function(){if(0===h)return h++,s.slice();for(var e=[],r=1,a=h-1;1==(1&a);)a>>=1,r++;for(n=0;n<t;n++)o[n]^=i[n][r],e[n]=o[n]/1048576;return h++,e},n=0;n<=52;n++)r.push(0);for(n=0;n<t;n++)i[n]=r.slice(),o[n]=0,s[n]=0;for(n=1;n<=52;n++)i[0][n]=1<<52-n;for(var u=1;u<t;u++){var l=c[u].split(/\s+/),f=+l[1],m=+l[2],d=[0];for(n=0;n<f;n++)d.push(+l[3+n]);for(n=1;n<=f;n++)i[u][n]=d[n]<<52-n;for(n=f+1;n<=52;n++){i[u][n]=i[u][n-f]^i[u][n-f]>>f;for(var p=1;p<=f-1;p++)i[u][n]^=(m>>f-1-p&1)*i[u][n-p]}}this.rng=new a("Sobol");for(var g=Math.floor(10+10*t*this.rng.uniform()),y=0;y<g;++y)this.next();this.generate=function(t){for(var e=[],n=0;n<t;++n)e.push(this.next());return e}},o=function(t,e,n,r,a,s,o){this.alpha=t||128,this.cX=e||100,this.cY=n||100,this.rX=r||1,this.rY=a||1,this.theta=s||0,this.color=o||new i.d(16777215),this._g=0,this._meshes=[this.buildMesh(),this.buildMesh(),this.buildMesh()],this._saved=!1,this._snp=[],this.energy=Number.POSITIVE_INFINITY};o.prototype.updateModel=function(t,e,n,r,i,a,s,o){this.cX=t,this.cY=e,this.rX=n,this.rY=r,this.alpha=s,this.color=a,this.theta=i,this._g=o},o.prototype.setColor=function(t){this.color=t},o.prototype.createTriangleGeometry=function(t){var e=new i.h,n=new i.w(0,0,1),r=new i.w(0+t,0,1),a=new i.w(0+t,0+t,1),s=new i.t(n,r,a),o=new i.w;return s.getNormal(o),e.vertices.push(s.a),e.vertices.push(s.b),e.vertices.push(s.c),e.faces.push(new i.g(0,1,2,o)),e.verticesNeedUpdate=!0,e},o.prototype.buildMesh=function(){var t;t=this.isRectangle?new i.n(10,10,1,1):this.isTriangle?this.createTriangleGeometry(10):new i.a(5,32);var e=new i.k({color:this.color,transparent:!0,opacity:this.alpha/256,side:i.f}),n=new i.j(t,e);return this.isTriangle?n.position.set(0,0,-1e3):(n.position.set(this.cX,this.cY,1),n.scale.set(this.rX,this.rY,1),n.rotation.set(0,0,this.theta)),n},o.prototype.getMesh=function(t){if(!(t>=this._meshes.length))return this._meshes[t]},o.prototype.updateMesh=function(t){if(!(t>=this._meshes.length)){var e=this._meshes[t];e.material.color=this.color,e.material.opacity=this.alpha/256,this.isTriangle?(e.geometry.vertices[0].x=this.cX,e.geometry.vertices[0].y=this.cY,e.geometry.vertices[1].x=this.rX,e.geometry.vertices[1].y=this.rY,e.geometry.vertices[2].x=this.theta,e.geometry.vertices[2].y=this._g,e.geometry.verticesNeedUpdate=!0,e.position.set(0,0,1)):(e.position.set(this.cX,this.cY,1),e.scale.set(this.rX,this.rY,1),e.rotation.set(0,0,this.theta))}},o.prototype.updateMeshes=function(){if(!(this._meshes.length<1))for(var t=0;t<this._meshes.length;++t)this.updateMesh(t)},o.prototype.snapshot=function(){this._snp=[this.alpha,this.cX,this.cY,this.rX,this.rY,this.theta,this.color,this._g],this._saved=!0},o.prototype.rollback=function(){this._saved&&(this.alpha=this._snp[0],this.cX=this._snp[1],this.cY=this._snp[2],this.rX=this._snp[3],this.rY=this._snp[4],this.theta=this._snp[5],this.color=this._snp[6],this._g=this._snp[7],this._snp=[],this._saved=!1)};var c=function(t,e,n,r){this.rotated=r;var i=this.isTriangleGenerator?6:this.rotated?5:4;this.SBL=new s(i),this.rng=new a("Ellipse"),this.adaptive=n,this.temp=1,this.cxmax=t/20,this.cxmin=-this.cxmax,this.cxrange=this.cxmax-this.cxmin,this.cymax=e/20,this.cymin=-this.cymax,this.cyrange=this.cymax-this.cymin,this.rxmax=2*t/256,this.rxmin=.01*t/256,this.rxrange=this.rxmax-this.rxmin,this.rymax=2*e/256,this.rymin=this.rxmin,this.ryrange=this.rymax-this.rymin,this.anglemin=0,this.anglemax=Math.PI,this.anglerange=this.anglemax-this.anglemin};c.prototype.generateCover=function(t){this.adaptive&&(this.temp=.999*this.temp);for(var e=this.SBL.generate(t),n=[],r=0;r<e.length;++r){var i=e[r];if(this.isTriangleGenerator){var a=this.cxmin+i[0]*this.cxrange,s=this.cymin+i[1]*this.cyrange,o=this.cxmin+i[2]*this.cxrange,c=this.cymin+i[3]*this.cyrange,h=this.cxmin+i[4]*this.cxrange,u=this.cymin+i[5]*this.cyrange,l=a,f=s,m=this.temp,d=1-this.temp;n.push([a,s,(m*o+d*l)/2,(m*c+d*f)/2,(m*h+d*l)/2,(m*u+d*f)/2])}else n.push([this.cxmin+i[0]*this.cxrange,this.cymin+i[1]*this.cyrange,this.rxmin+i[2]*this.rxrange*this.temp,this.rymin+i[3]*this.ryrange*this.temp,this.rotated?this.anglemin+i[4]*this.anglerange:0])}return n},c.prototype.mutate=function(t){var e=this.rng,n=t.alpha,r=this.rotated||this.isTriangleGenerator?3:2,i=Math.floor(e.uniform()*r),a=t.cX,s=t.rX,o=t.cY,c=t.rY,h=t.theta,u=t.color,l=t._g;if(this.isTriangleGenerator)switch(i){case 0:a=e.clamp(a+e.normal()*this.cxrange*.5,this.cxmin,this.cxmax),o=e.clamp(o+e.normal()*this.cyrange*.5,this.cymin,this.cymax);break;case 1:s=e.clamp(s+e.normal()*this.cxrange*.5,this.cxmin,this.cxmax),c=e.clamp(c+e.normal()*this.cyrange*.5,this.cymin,this.cymax);break;case 2:h=e.clamp(h+e.normal()*this.cxrange*.5,this.cxmin,this.cxmax),l=e.clamp(l+e.normal()*this.cyrange*.5,this.cymin,this.cymax)}else switch(i){case 0:a=e.clamp(a+e.normal()*this.cxrange*.5,this.cxmin,this.cxmax),o=e.clamp(o+e.normal()*this.cyrange*.5,this.cymin,this.cymax);break;case 1:s=e.clamp(s+e.normal()*this.rxrange*.5,this.rxmin,this.rxmax),c=e.clamp(c+e.normal()*this.ryrange*.5,this.rymin,this.rymax);break;case 2:h=e.clamp(h+e.normal()*this.anglerange,this.anglemin,this.anglemax)}t.updateModel(a,o,s,c,h,u,n,l)};var h=n(7),u=n(2),l=n(9),f=n(8),m=function(){var t,e,n,r,i,a,s,o,c,h,u,l,f={},m=-1,d=12,p=5003,g=d,y=1<<d,v=[],w=[],b=p,x=0,B=!1,M=0,E=0,I=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],k=[],_=f.LZWEncoder=function(i,a,s,o){t=i,e=a,n=s,r=Math.max(2,o)},A=function(t,e){k[l++]=t,l>=254&&X(e)},T=function(t){U(b),x=h+2,B=!0,R(h,t)},U=function(t){for(var e=0;e<t;++e)v[e]=-1},Y=f.compress=function(t,e){var n,r,i,a,f,d,p;for(B=!1,o=C(s=c=t),u=(h=1<<t-1)+1,x=h+2,l=0,a=P(),p=0,n=b;n<65536;n*=2)++p;p=8-p,U(d=b),R(h,e);t:for(;(i=P())!=m;)if(n=(i<<g)+a,v[r=i<<p^a]!=n){if(v[r]>=0){f=d-r,0===r&&(f=1);do{if((r-=f)<0&&(r+=d),v[r]==n){a=w[r];continue t}}while(v[r]>=0)}R(a,e),a=i,x<y?(w[r]=x++,v[r]=n):T(e)}else a=w[r];R(a,e),R(u,e)},X=(f.encode=function(n){n.writeByte(r),i=t*e,a=0,Y(r+1,n),n.writeByte(0)},function(t){l>0&&(t.writeByte(l),t.writeBytes(k,0,l),l=0)}),C=function(t){return(1<<t)-1},P=function(){return 0===i?m:(--i,255&n[a++])},R=function(t,e){for(M&=I[E],E>0?M|=t<<E:M=t,E+=s;E>=8;)A(255&M,e),M>>=8,E-=8;if((x>o||B)&&(B?(o=C(s=c),B=!1):(++s,o=s==g?y:C(s))),t==u){for(;E>0;)A(255&M,e),M>>=8,E-=8;X(e)}};return _.apply(this,arguments),f},d=function(){var t,e,n,r,i,a={},s=256,o=499,c=491,h=487,u=503,l=3*u,f=s-1,m=4,d=100,p=16,g=1<<p,y=10,v=10,w=g>>v,b=g<<y-v,x=s>>3,B=6,M=1<<B,E=x*M,I=30,k=10,_=1<<k,A=8,T=1<<A,U=k+A,Y=1<<U,X=[],C=[],P=[],R=[],j=a.NeuQuant=function(t,a,o){var c,h;for(e=t,n=a,r=o,i=new Array(s),c=0;c<s;c++)i[c]=new Array(4),(h=i[c])[0]=h[1]=h[2]=(c<<m+8)/s,P[c]=g/s,C[c]=0},F=function(){for(var t=[],e=new Array(s),n=0;n<s;n++)e[i[n][3]]=n;for(var r=0,a=0;a<s;a++){var o=e[a];t[r++]=i[o][0],t[r++]=i[o][1],t[r++]=i[o][2]}return t},L=function(){var t,e,n,r,a,o,c,h;for(c=0,h=0,t=0;t<s;t++){for(n=t,r=(a=i[t])[1],e=t+1;e<s;e++)(o=i[e])[1]<r&&(n=e,r=o[1]);if(o=i[n],t!=n&&(e=o[0],o[0]=a[0],a[0]=e,e=o[1],o[1]=a[1],a[1]=e,e=o[2],o[2]=a[2],a[2]=e,e=o[3],o[3]=a[3],a[3]=e),r!=c){for(X[c]=h+t>>1,e=c+1;e<r;e++)X[e]=t;c=r,h=t}}for(X[c]=h+f>>1,e=c+1;e<256;e++)X[e]=f},S=function(){var i,a,s,f,p,g,y,v,w,b,x,M,k,A;for(n<l&&(r=1),t=30+(r-1)/3,M=e,k=0,A=n,b=(x=n/(3*r))/d|0,v=_,(y=(g=E)>>B)<=1&&(y=0),i=0;i<y;i++)R[i]=v*((y*y-i*i)*T/(y*y));for(w=n<l?3:n%o!=0?3*o:n%c!=0?3*c:n%h!=0?3*h:3*u,i=0;i<x;)if(s=(255&M[k+0])<<m,f=(255&M[k+1])<<m,p=(255&M[k+2])<<m,a=O(s,f,p),N(v,a,s,f,p),0!==y&&G(y,a,s,f,p),(k+=w)>=A&&(k-=n),0===b&&(b=1),++i%b==0)for(v-=v/t,(y=(g-=g/I)>>B)<=1&&(y=0),a=0;a<y;a++)R[a]=v*((y*y-a*a)*T/(y*y))},D=(a.map=function(t,e,n){var r,a,o,c,h,u,l;for(h=1e3,l=-1,a=(r=X[e])-1;r<s||a>=0;)r<s&&((o=(u=i[r])[1]-e)>=h?r=s:(r++,o<0&&(o=-o),(c=u[0]-t)<0&&(c=-c),(o+=c)<h&&((c=u[2]-n)<0&&(c=-c),(o+=c)<h&&(h=o,l=u[3])))),a>=0&&((o=e-(u=i[a])[1])>=h?a=-1:(a--,o<0&&(o=-o),(c=u[0]-t)<0&&(c=-c),(o+=c)<h&&((c=u[2]-n)<0&&(c=-c),(o+=c)<h&&(h=o,l=u[3]))));return l},a.process=function(){return S(),D(),L(),F()},function(){var t;for(t=0;t<s;t++)i[t][0]>>=m,i[t][1]>>=m,i[t][2]>>=m,i[t][3]=t}),G=function(t,e,n,r,a){var o,c,h,u,l,f,m;for((h=e-t)<-1&&(h=-1),(u=e+t)>s&&(u=s),o=e+1,c=e-1,f=1;o<u||c>h;){if(l=R[f++],o<u){m=i[o++];try{m[0]-=l*(m[0]-n)/Y,m[1]-=l*(m[1]-r)/Y,m[2]-=l*(m[2]-a)/Y}catch(t){}}if(c>h){m=i[c--];try{m[0]-=l*(m[0]-n)/Y,m[1]-=l*(m[1]-r)/Y,m[2]-=l*(m[2]-a)/Y}catch(t){}}}},N=function(t,e,n,r,a){var s=i[e];s[0]-=t*(s[0]-n)/_,s[1]-=t*(s[1]-r)/_,s[2]-=t*(s[2]-a)/_},O=function(t,e,n){var r,a,o,c,h,u,l,f,d,g;for(d=f=~(1<<31),l=u=-1,r=0;r<s;r++)(a=(g=i[r])[0]-t)<0&&(a=-a),(o=g[1]-e)<0&&(o=-o),a+=o,(o=g[2]-n)<0&&(o=-o),(a+=o)<f&&(f=a,u=r),(c=a-(C[r]>>p-m))<d&&(d=c,l=r),h=P[r]>>v,P[r]-=h,C[r]+=h<<y;return P[u]+=w,C[u]-=b,l};return j.apply(this,arguments),a},p=function(){for(var t=0,e={};t<256;t++)e[t]=String.fromCharCode(t);function n(){this.bin=[]}n.prototype.getData=function(){for(var t="",n=this.bin.length,r=0;r<n;r++)t+=e[this.bin[r]];return t},n.prototype.writeByte=function(t){this.bin.push(t)},n.prototype.writeUTFBytes=function(t){for(var e=t.length,n=0;n<e;n++)this.writeByte(t.charCodeAt(n))},n.prototype.writeBytes=function(t,e,n){for(var r=n||t.length,i=e||0;i<r;i++)this.writeByte(t[i])};var r,i,a,s,o,c,h,u,l,f={},p=null,g=-1,y=0,v=!1,w=[],b=7,x=-1,B=!1,M=!0,E=!1,I=10,k="Generated by jsgif (https://github.com/antimatter15/jsgif/)",_=(f.setDelay=function(t){y=Math.round(t/10)},f.setDispose=function(t){t>=0&&(x=t)},f.setRepeat=function(t){t>=0&&(g=t)},f.setTransparent=function(t){p=t},f.setComment=function(t){k=t},f.addFrame=function(t,e){if(null===t||!v||null===s)throw new Error("Please call start method before calling addFrame");var n=!0;try{e?t instanceof ImageData?(o=t.data,sizeset&&r==t.width&&i==t.height||A(t.width,t.height)):t instanceof Uint8ClampedArray?t.length==r*i*4?o=t:(console.log("Please set the correct size: ImageData length mismatch"),n=!1):(console.log("Please provide correct input"),n=!1):(o=t.getImageData(0,0,t.canvas.width,t.canvas.height).data,E||A(t.canvas.width,t.canvas.height)),Y(),T(),M&&(R(),F(),g>=0&&j()),X(),""!==k&&C(),P(),M||F(),S(),M=!1}catch(t){n=!1}return n},f.download=function(t){if(null===s||0==B)console.log("Please call start method and add frames and call finish method before calling download");else{t=void 0!==t?t.endsWith(".gif")?t:t+".gif":"download.gif";var e=document.createElement("a");e.download=t,e.href=URL.createObjectURL(new Blob([new Uint8Array(s.bin)],{type:"image/gif"})),e.click()}},f.finish=function(){if(!v)return!1;var t=!0;v=!1;try{s.writeByte(59),B=!0}catch(e){t=!1}return t},function(){a=0,o=null,c=null,h=null,l=null,B=!1,M=!0}),A=(f.setFrameRate=function(t){15!=t&&(y=Math.round(100/t))},f.setQuality=function(t){t<1&&(t=1),I=t},f.setSize=function(t,e){v&&!M||((r=t)<1&&(r=320),(i=e)<1&&(i=240),E=!0)}),T=(f.start=function(){_();var t=!0;B=!1,s=new n;try{s.writeUTFBytes("GIF89a")}catch(e){t=!1}return v=t},f.cont=function(){_();return B=!1,s=new n,v=!0},function(){var t=c.length,e=t/3;h=[];var n=new d(c,t,I);l=n.process();for(var r=0,i=0;i<e;i++){var s=n.map(255&c[r++],255&c[r++],255&c[r++]);w[s]=!0,h[i]=s}c=null,u=8,b=7,null!==p&&(a=U(p))}),U=function(t){if(null===l)return-1;for(var e=(16711680&t)>>16,n=(65280&t)>>8,r=255&t,i=0,a=16777216,s=l.length,o=0;o<s;){var c=e-(255&l[o++]),h=n-(255&l[o++]),u=r-(255&l[o]),f=c*c+h*h+u*u,m=o/3;w[m]&&f<a&&(a=f,i=m),o++}return i},Y=function(){var t=r,e=i;c=[];for(var n=o,a=0,s=0;s<e;s++)for(var h=0;h<t;h++){var u=s*t*4+4*h;c[a++]=n[u],c[a++]=n[u+1],c[a++]=n[u+2]}},X=function(){var t,e;s.writeByte(33),s.writeByte(249),s.writeByte(4),null===p?(t=0,e=0):(t=1,e=2),x>=0&&(e=7&x),e<<=2,s.writeByte(0|e|t),L(y),s.writeByte(a),s.writeByte(0)},C=function(){s.writeByte(33),s.writeByte(254),s.writeByte(k.length),s.writeUTFBytes(k),s.writeByte(0)},P=function(){s.writeByte(44),L(0),L(0),L(r),L(i),M?s.writeByte(0):s.writeByte(128|b)},R=function(){L(r),L(i),s.writeByte(240|b),s.writeByte(0),s.writeByte(0)},j=function(){s.writeByte(33),s.writeByte(255),s.writeByte(11),s.writeUTFBytes("NETSCAPE2.0"),s.writeByte(3),s.writeByte(1),L(g),s.writeByte(0)},F=function(){s.writeBytes(l);for(var t=768-l.length,e=0;e<t;e++)s.writeByte(0)},L=function(t){s.writeByte(255&t),s.writeByte(t>>8&255)},S=function(){new m(r,i,h,u).encode(s)};f.stream=function(){return s},f.setProperties=function(t,e){v=t,M=e};return f},g=function(t,e,n,r,i,a,s){this.isRectangle=!0,o.call(this,t,e,n,r,i,a,s)};(g.prototype=Object.create(o.prototype)).constructor=g;var y=function(t,e,n,r){c.call(this,t,e,n,r)};(y.prototype=Object.create(c.prototype)).constructor=y;var v=function(t,e,n,r,i,a,s){this.isTriangle=!0,o.call(this,t,e,n,r,i,a,s)};(v.prototype=Object.create(o.prototype)).constructor=v;var w=function(t,e,n,r){this.isTriangleGenerator=!0,c.call(this,t,e,n,r)};(w.prototype=Object.create(c.prototype)).constructor=w;var b,x,B,M,E,I,k,_,A,T,U,Y,X,C,P,R,j,F,L,S=1,D=!1,G=64,N=25,O=200,z=0,q=!1,W=r,J=!1,Q=!1,H=!1;function V(t){var e=document.getElementById(t);e.textContent="";var n=new i.y({antialias:!0,preserveDrawingBuffer:!0});n.setPixelRatio(1),n.setSize(x,B);var r=n.domElement;return r.setAttribute("id","canvas-".concat(t)),e.appendChild(r),n}function Z(t,e,n,r){var i=new u.a(h.a);i.uniforms.resolution.value.set(1/x,1/B);var a=new l.a(t,r),s=new f.a(e,n);return a.addPass(s),a.addPass(i),a}function K(t){var e=document.getElementById("input-image");x=e.offsetWidth,B=e.offsetHeight,S=x/B,M=V("buffer-target"),E=V("buffer-test"),I=V("buffer-primitive"),T=new i.x(x,B),Y=new i.x(x,B),C=new i.x(x,B),k=new i.p,_=new i.p,A=new i.p;var n=B/10,r=x/10;(b=new i.m(45,S,.001,5e3)).position.set(0,0,.5*n/Math.tan(Math.PI/8)),U=Z(M,k,b,T),X=Z(E,_,b,Y),P=Z(I,A,b,C),function(t,e,n){var r=(new i.s).load(n);r.generateMipmaps=!1,r.wrapS=r.wrapT=i.b,r.minFilter=i.i;var a=new i.n(t,e,1),s=new i.k({color:16777215,map:r});R=new i.j(a,s),k.add(R)}(r,n,t),q&&((F=new p).setRepeat(0),F.setSize(x,B),F.start(),J=!0)}K(W),document.getElementById("button-start").addEventListener("click",(function(){return Et()})),document.getElementById("button-stop").addEventListener("click",(function(){wt=!0})),document.getElementById("button-restart").addEventListener("click",(function(){return Et()})),document.getElementById("button-resume").addEventListener("click",(function(){xt=!0})),document.getElementById("button-apply-settings").addEventListener("click",(function(){return function(){var t=document.getElementById("check-adaptive-sobol").checked,e=document.getElementById("check-capture-gif").checked,n=document.getElementById("number-input-shapes").value,r=document.getElementById("number-input-sobol").value,a=document.getElementById("number-input-hillclimb").value,s=document.getElementById("dropdown-shape").value,o=document.getElementById("text-input-image-source").value;D=t,q=e;var c=parseInt(n,10);c>0&&c<2e6&&"number"==typeof c&&(O=c);var h=parseInt(r,10);h>0&&h<1e3&&"number"==typeof h&&(G=h);var u=parseInt(a,10);switch(u>0&&u<1e3&&"number"==typeof u&&(N=u),s){case"Ellipse":z=0;break;case"Rectangle":z=1;break;case"Triangle":z=2;break;case"Rotated ellipse":z=3;break;case"Rotated rectangle":z=4}o&&o.length>1&&W!==o&&(W=o,document.getElementById("input-image").src=o,vt=0,(new i.s).load(o,(function(){document.getElementById("cors-error").setAttribute("style","display: none;")}),(function(){}),(function(){document.getElementById("cors-error").setAttribute("style","display: block;")})))}()})),function t(){if(requestAnimationFrame(t),vt<=10)return yt(U,M,k,b),void vt++;wt&&It();H&&function(){switch(ft){case 0:!function(){0;kt(!0),at=T.width*T.height*4,L=new Uint8Array(at),$=new Uint8Array(at),ot=at,et=new Uint8Array(ot),st=at,tt=new Uint8Array(st),ct(M,T,L);var t=function(){for(var t=0,e=0,n=0,r=0,a=0;a<at;a+=4)t+=L[a],e+=L[a+1],n+=L[a+2],++r;return t/=r,e/=r,n/=r,new i.d(t/256,e/256,n/256)}();j=function(t){var e,n=new i.n(x/10,B/10,1),r=document.getElementById("output-image");if(Bt&&r.src&&r.src.length>0){var a=new i.r(r);a.needsUpdate=!0,e=new i.k({color:16777215,map:a}),Bt=!1}else e=new i.k({color:t});return new i.j(n,e)}(t),_.add(j),rt=function(t,e,n){switch(z){case 0:return new c(t,e,n,!1);case 1:return new y(t,e,n,!1);case 2:return new w(t,e,n,!1);case 3:return new c(t,e,n,!0);case 4:return new y(t,e,n,!0)}}(x,B,D),it=rt.generateCover(G),nt=ht(128),A.add(nt.getMesh(0)),ft=1,mt()}();break;case 1:mt();break;case 2:dt(),ft=3;break;case 3:!function(){var t=pt();t<nt.energy&&(nt.updateMesh(2),nt.snapshot(),nt.energy=t);it.length>0?ft=1:(nt._saved&&nt.rollback(),nt.snapshot(),ft=4,ut=0)}();break;case 4:!function(){0;rt.mutate(nt),nt.updateMesh(0),_.remove(nt.getMesh(1)),ft=5}();break;case 5:dt(),ft=6;break;case 6:!function(){var t=pt();t<nt.energy?(nt.updateMesh(2),nt.snapshot(),nt.energy=t):nt._saved&&(nt.rollback(),nt.snapshot());ut<N?(ut++,ft=4):(nt._saved&&(nt.rollback(),nt.updateMesh(0),nt.updateMesh(1)),ft=7,ut=0)}();break;case 7:!function(){0;if(function(){E.readRenderTargetPixels(Y,0,0,x,B,$);var t=new i.e($,x,B,i.o);_.remove(j);var e=new i.n(x/10,B/10,1),n=new i.k({map:t});j=new i.j(e,n),_.add(j)}(),lt++,Q=!0,lt<O){it=rt.generateCover(G);A.remove(nt.getMesh(0)),_.remove(nt.getMesh(1)),nt=ht(128),A.add(nt.getMesh(0)),_.add(nt.getMesh(1)),ft=1}else ft=8}();break;case 8:!function(){0;Q=!0,q&&(J=!1,F.finish(),F.download("anim.gif"));It()}();break;case 9:H=!1}}();e=X,e.render(),void e.render(),yt(P,I,A,b),Q&&function(){Q=!1;var t=document.getElementById("canvas-buffer-test"),e=document.getElementById("output-image"),n=t.toDataURL("image/png",1);e.setAttribute("src",n);for(var r=new Uint8ClampedArray(st),i=0,a=B-1;a>=0;--a)for(var s=0;s<4*x;s+=4)r[a*x*4+s]=tt[i++],r[a*x*4+s+1]=tt[i++],r[a*x*4+s+2]=tt[i++],r[a*x*4+s+3]=tt[i++];J&&(O<100||lt%Math.floor(O/lt)==0)&&F.addFrame(r,!0)}();var e;xt&&(It(),Mt(!0),Bt=!0,H=!0);bt&&(It(),Mt(!1),H=!0)}();var $,tt,et,nt,rt,it,at=0,st=0,ot=0;function ct(t,e,n){t.readRenderTargetPixels(e,0,0,x,B,n)}function ht(t){switch(z){case 3:case 0:return new o(t);case 4:case 1:return new g(t);case 2:return new v(t);default:return}}new a("Alpha");var ut=0,lt=0,ft=0;function mt(){var t=it.shift();nt.updateModel(t[0],t[1],t[2],t[3],t[4],new i.d(16777215),128,t[5]),nt.updateMesh(0),_.remove(nt.getMesh(1)),ft=2}function dt(){ct(I,C,et),ct(E,Y,tt);var t=function(t){for(var e=65535/t,n=0,r=0,a=0,s=0,o=0;o<st;o+=4)if(et[o]+et[o+1]+et[o+2]!==0){var c=L[o],h=L[o+1],u=L[o+2],l=tt[o],f=tt[o+1],m=tt[o+2];n+=(c-l)*e+257*l,r+=(h-f)*e+257*f,a+=(u-m)*e+257*m,s++}return new i.d(gt(n/s>>8,0,255)/256,gt(r/s>>8,0,255)/256,gt(a/s>>8,0,255)/256)}(nt.alpha);nt.setColor(t),nt.updateMesh(1),_.add(nt.getMesh(1))}function pt(){return ct(E,Y,tt),function(t,e){for(var n=0,r=0;r<ot;r+=4){var i=t[r],a=t[r+1],s=t[r+2],o=i-e[r],c=a-e[r+1],h=s-e[r+2];n+=o*o+c*c+h*h}return Math.sqrt(n/(x*B*4))/255}(L,tt)}function gt(t,e,n){return Math.min(Math.max(t,e),n)}function yt(t,e,n,r){e.render(n,r),t.render(),t.render()}var vt=0,wt=!1,bt=!1,xt=!1,Bt=!1;function Mt(t){J=!1,Q=!1,H=!1,bt=!1,wt=!1,xt=!1,Bt=!1,new a("Alpha"),ut=0,lt=0,vt=0,K(W),ft=0}function Et(){bt=!0}function It(){ft=9,wt=!1,q&&J&&(J=!1,F.finish()),kt(!1)}function kt(t){var e=document.getElementById("button-start"),n=document.getElementById("button-stop"),r=[e,document.getElementById("button-restart"),document.getElementById("button-resume"),document.getElementById("button-apply-settings"),document.getElementById("check-adaptive-sobol"),document.getElementById("check-capture-gif"),document.getElementById("number-input-shapes"),document.getElementById("number-input-sobol"),document.getElementById("number-input-hillclimb"),document.getElementById("dropdown-shape")];if(t){n.removeAttribute("disabled");for(var i=0;i<r.length;++i){var a=r[i];a&&a.setAttribute("disabled","")}}else{n.setAttribute("disabled","");for(var s=0;s<r.length;++s){var o=r[s];o&&o.removeAttribute("disabled")}}}},4:function(t,e,n){(e=n(6)(!1)).push([t.i,"body {\r\n    color: #888888;\r\n    font-family: Monospace,sans-serif;\r\n    font-size:13px;\r\n    background-color: #000;\r\n    margin: 0;\r\n}\r\na { color: #00f; }\r\nh5 { margin-top: 10px; }\r\n#buffer-primitive { display: none; }\r\n#button-start { margin-top: 10px; }\r\n#button-apply-settings { margin: 10px 0; }\r\np { text-align: justify; }\r\n#wrapper-shape-type { margin-top: 5px; }\r\n#cors-error { color: red; display: none; }\r\n#cors-error a { color: orange; }\r\nimg { max-width: 512px; height: auto; }\r\n",""]),t.exports=e}},[[12,1,2]]]);